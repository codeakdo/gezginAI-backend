{\rtf1\ansi\ansicpg1252\cocoartf2867
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red183\green111\blue179;\red24\green24\blue24;\red193\green193\blue193;
\red67\green192\blue160;\red212\green214\blue154;\red89\green138\blue67;\red140\green211\blue254;\red202\green202\blue202;
\red194\green126\blue101;\red70\green137\blue204;\red66\green179\blue255;\red167\green197\blue152;\red205\green173\blue106;
}
{\*\expandedcolortbl;;\cssrgb\c77255\c52549\c75294;\cssrgb\c12157\c12157\c12157;\cssrgb\c80000\c80000\c80000;
\cssrgb\c30588\c78824\c69020;\cssrgb\c86275\c86275\c66667;\cssrgb\c41569\c60000\c33333;\cssrgb\c61176\c86275\c99608;\cssrgb\c83137\c83137\c83137;
\cssrgb\c80784\c56863\c47059;\cssrgb\c33725\c61176\c83922;\cssrgb\c30980\c75686\c100000;\cssrgb\c70980\c80784\c65882;\cssrgb\c84314\c72941\c49020;
}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs30 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 from\cf4 \strokec4  \cf5 \strokec5 fastapi\cf4 \strokec4  \cf2 \strokec2 import\cf4 \strokec4  \cf5 \strokec5 FastAPI\cf4 \strokec4 , \cf5 \strokec5 HTTPException\cf4 \cb1 \strokec4 \
\cf2 \cb3 \strokec2 from\cf4 \strokec4  \cf5 \strokec5 pydantic\cf4 \strokec4  \cf2 \strokec2 import\cf4 \strokec4  \cf5 \strokec5 BaseModel\cf4 \cb1 \strokec4 \
\cf2 \cb3 \strokec2 from\cf4 \strokec4  \cf5 \strokec5 fastapi\cf4 \strokec4 .\cf5 \strokec5 middleware\cf4 \strokec4 .\cf5 \strokec5 cors\cf4 \strokec4  \cf2 \strokec2 import\cf4 \strokec4  \cf5 \strokec5 CORSMiddleware\cf4 \cb1 \strokec4 \
\cf2 \cb3 \strokec2 import\cf4 \strokec4  \cf5 \strokec5 google\cf4 \strokec4 .\cf5 \strokec5 generativeai\cf4 \strokec4  \cf2 \strokec2 as\cf4 \strokec4  \cf5 \strokec5 genai\cf4 \cb1 \strokec4 \
\cf2 \cb3 \strokec2 import\cf4 \strokec4  \cf5 \strokec5 json\cf4 \cb1 \strokec4 \
\cf2 \cb3 \strokec2 import\cf4 \strokec4  \cf5 \strokec5 os\cf4 \cb1 \strokec4 \
\cf2 \cb3 \strokec2 from\cf4 \strokec4  \cf5 \strokec5 typing\cf4 \strokec4  \cf2 \strokec2 import\cf4 \strokec4  \cf5 \strokec5 List\cf4 \strokec4 , \cf5 \strokec5 Optional\cf4 \cb1 \strokec4 \
\cf2 \cb3 \strokec2 from\cf4 \strokec4  \cf5 \strokec5 dotenv\cf4 \strokec4  \cf2 \strokec2 import\cf4 \strokec4  \cf6 \strokec6 load_dotenv\cf4 \strokec4   \cb1 \
\
\cf7 \cb3 \strokec7 # .env dosyas\uc0\u305 ndakileri y\'fckle\cf4 \cb1 \strokec4 \
\cf6 \cb3 \strokec6 load_dotenv\cf4 \strokec4 ()\cb1 \
\
\cf8 \cb3 \strokec8 app\cf4 \strokec4  \cf9 \strokec9 =\cf4 \strokec4  \cf5 \strokec5 FastAPI\cf4 \strokec4 ()\cb1 \
\
\cf7 \cb3 \strokec7 # --- AYARLAR ---\cf4 \cb1 \strokec4 \
\cf8 \cb3 \strokec8 app\cf4 \strokec4 .\cf6 \strokec6 add_middleware\cf4 \strokec4 (\cb1 \
\cb3     \cf5 \strokec5 CORSMiddleware\cf4 \strokec4 ,\cb1 \
\cb3     \cf8 \strokec8 allow_origins\cf9 \strokec9 =\cf4 \strokec4 [\cf10 \strokec10 "*"\cf4 \strokec4 ],\cb1 \
\cb3     \cf8 \strokec8 allow_credentials\cf9 \strokec9 =\cf11 \strokec11 True\cf4 \strokec4 ,\cb1 \
\cb3     \cf8 \strokec8 allow_methods\cf9 \strokec9 =\cf4 \strokec4 [\cf10 \strokec10 "*"\cf4 \strokec4 ],\cb1 \
\cb3     \cf8 \strokec8 allow_headers\cf9 \strokec9 =\cf4 \strokec4 [\cf10 \strokec10 "*"\cf4 \strokec4 ],\cb1 \
\cb3 )\cb1 \
\
\
\cf12 \cb3 \strokec12 GOOGLE_API_KEY\cf4 \strokec4  \cf9 \strokec9 =\cf4 \strokec4  \cf5 \strokec5 os\cf4 \strokec4 .\cf6 \strokec6 getenv\cf4 \strokec4 (\cf10 \strokec10 "GOOGLE_API_KEY"\cf4 \strokec4 )\cb1 \
\
\cf7 \cb3 \strokec7 # E\uc0\u287 er key varsa AI motorunu \'e7al\u305 \u351 t\u305 r\cf4 \cb1 \strokec4 \
\cf2 \cb3 \strokec2 if\cf4 \strokec4  \cf12 \strokec12 GOOGLE_API_KEY\cf4 \strokec4 :\cb1 \
\cb3     \cf5 \strokec5 genai\cf4 \strokec4 .\cf6 \strokec6 configure\cf4 \strokec4 (\cf8 \strokec8 api_key\cf9 \strokec9 =\cf12 \strokec12 GOOGLE_API_KEY\cf4 \strokec4 )\cb1 \
\
\cf7 \cb3 \strokec7 # --- DATA MODELS ---\cf4 \cb1 \strokec4 \
\cf11 \cb3 \strokec11 class\cf4 \strokec4  \cf5 \strokec5 TravelRequest\cf4 \strokec4 (\cf5 \strokec5 BaseModel\cf4 \strokec4 ):\cb1 \
\cb3     \cf8 \strokec8 city\cf4 \strokec4 : \cf5 \strokec5 str\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 weather\cf4 \strokec4 : \cf5 \strokec5 str\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 budget\cf4 \strokec4 : \cf5 \strokec5 str\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 interests\cf4 \strokec4 : \cf5 \strokec5 str\cf4 \cb1 \strokec4 \
\
\cf11 \cb3 \strokec11 class\cf4 \strokec4  \cf5 \strokec5 Coordinates\cf4 \strokec4 (\cf5 \strokec5 BaseModel\cf4 \strokec4 ):\cb1 \
\cb3     \cf8 \strokec8 latitude\cf4 \strokec4 : \cf5 \strokec5 float\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 longitude\cf4 \strokec4 : \cf5 \strokec5 float\cf4 \cb1 \strokec4 \
\
\cf11 \cb3 \strokec11 class\cf4 \strokec4  \cf5 \strokec5 Location\cf4 \strokec4 (\cf5 \strokec5 BaseModel\cf4 \strokec4 ):\cb1 \
\cb3     \cf8 \strokec8 address\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 coordinates\cf4 \strokec4 : \cf5 \strokec5 Coordinates\cf4 \cb1 \strokec4 \
\
\cf11 \cb3 \strokec11 class\cf4 \strokec4  \cf5 \strokec5 Contact\cf4 \strokec4 (\cf5 \strokec5 BaseModel\cf4 \strokec4 ):\cb1 \
\cb3     \cf8 \strokec8 phone\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 email\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 website\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\
\cf11 \cb3 \strokec11 class\cf4 \strokec4  \cf5 \strokec5 OperatingHours\cf4 \strokec4 (\cf5 \strokec5 BaseModel\cf4 \strokec4 ):\cb1 \
\cb3     \cf8 \strokec8 monday\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 tuesday\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 wednesday\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 thursday\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 friday\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 saturday\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 sunday\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\
\cf11 \cb3 \strokec11 class\cf4 \strokec4  \cf5 \strokec5 PlaceDetail\cf4 \strokec4 (\cf5 \strokec5 BaseModel\cf4 \strokec4 ):\cb1 \
\cb3     \cf8 \strokec8 place_name\cf4 \strokec4 : \cf5 \strokec5 str\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 category\cf4 \strokec4 : \cf5 \strokec5 str\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 features\cf4 \strokec4 : \cf5 \strokec5 List\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ]\cb1 \
\cb3     \cf8 \strokec8 rating\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 float\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 location\cf4 \strokec4 : \cf5 \strokec5 Location\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 contact\cf4 \strokec4 : \cf5 \strokec5 Contact\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 hours\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 OperatingHours\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 map_link\cf4 \strokec4 : \cf5 \strokec5 Optional\cf4 \strokec4 [\cf5 \strokec5 str\cf4 \strokec4 ] \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 None\cf4 \cb1 \strokec4 \
\
\cf11 \cb3 \strokec11 class\cf4 \strokec4  \cf5 \strokec5 TripResponse\cf4 \strokec4 (\cf5 \strokec5 BaseModel\cf4 \strokec4 ):\cb1 \
\cb3     \cf8 \strokec8 trip_title\cf4 \strokec4 : \cf5 \strokec5 str\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 clothing_advice\cf4 \strokec4 : \cf5 \strokec5 str\cf4 \cb1 \strokec4 \
\cb3     \cf8 \strokec8 places\cf4 \strokec4 : \cf5 \strokec5 List\cf4 \strokec4 [\cf5 \strokec5 PlaceDetail\cf4 \strokec4 ]\cb1 \
\
\cf7 \cb3 \strokec7 # --- MOCK DATA ---\cf4 \cb1 \strokec4 \
\cf12 \cb3 \strokec12 MOCK_RESPONSE\cf4 \strokec4  \cf9 \strokec9 =\cf4 \strokec4  \{\cb1 \
\cb3   \cf10 \strokec10 "trip_title"\cf4 \strokec4 : \cf10 \strokec10 "Adana Lezzet ve Do\uc0\u287 a Turu (Demo Modu)"\cf4 \strokec4 ,\cb1 \
\cb3   \cf10 \strokec10 "clothing_advice"\cf4 \strokec4 : \cf10 \strokec10 "Hava s\uc0\u305 cak, rahat ve ince k\u305 yafetler giy."\cf4 \strokec4 ,\cb1 \
\cb3   \cf10 \strokec10 "places"\cf4 \strokec4 : [\cb1 \
\cb3     \{\cb1 \
\cb3       \cf10 \strokec10 "place_name"\cf4 \strokec4 : \cf10 \strokec10 "Kaz\uc0\u305 m B\'fcfe"\cf4 \strokec4 ,\cb1 \
\cb3       \cf10 \strokec10 "category"\cf4 \strokec4 : \cf10 \strokec10 "Yemek"\cf4 \strokec4 ,\cb1 \
\cb3       \cf10 \strokec10 "features"\cf4 \strokec4 : [\cf10 \strokec10 "Me\uc0\u351 hur Muzlu S\'fct"\cf4 \strokec4 , \cf10 \strokec10 "H\uc0\u305 zl\u305  Servis"\cf4 \strokec4 , \cf10 \strokec10 "\uc0\u304 konik"\cf4 \strokec4 ],\cb1 \
\cb3       \cf10 \strokec10 "rating"\cf4 \strokec4 : \cf13 \strokec13 4.5\cf4 \strokec4 ,\cb1 \
\cb3       \cf10 \strokec10 "location"\cf4 \strokec4 : \{\cb1 \
\cb3         \cf10 \strokec10 "address"\cf4 \strokec4 : \cf10 \strokec10 "Cemalpa\uc0\u351 a, Toros Cd., 01120 Seyhan/Adana"\cf4 \strokec4 ,\cb1 \
\cb3         \cf10 \strokec10 "coordinates"\cf4 \strokec4 : \{ \cf10 \strokec10 "latitude"\cf4 \strokec4 : \cf13 \strokec13 37.0015\cf4 \strokec4 , \cf10 \strokec10 "longitude"\cf4 \strokec4 : \cf13 \strokec13 35.3289\cf4 \strokec4  \}\cb1 \
\cb3       \},\cb1 \
\cb3       \cf10 \strokec10 "contact"\cf4 \strokec4 : \{ \cf10 \strokec10 "phone"\cf4 \strokec4 : \cf10 \strokec10 "+90 322 458 29 54"\cf4 \strokec4 , \cf10 \strokec10 "email"\cf4 \strokec4 : \cf11 \strokec11 None\cf4 \strokec4 , \cf10 \strokec10 "website"\cf4 \strokec4 : \cf11 \strokec11 None\cf4 \strokec4  \},\cb1 \
\cb3       \cf10 \strokec10 "hours"\cf4 \strokec4 : \{ \cf10 \strokec10 "monday"\cf4 \strokec4 : \cf10 \strokec10 "06:00-02:00"\cf4 \strokec4  \},\cb1 \
\cb3       \cf10 \strokec10 "map_link"\cf4 \strokec4 : \cf10 \strokec10 "https://goo.gl/maps/orneklink"\cf4 \cb1 \strokec4 \
\cb3     \},\cb1 \
\cb3     \{\cb1 \
\cb3       \cf10 \strokec10 "place_name"\cf4 \strokec4 : \cf10 \strokec10 "Merkez Park"\cf4 \strokec4 ,\cb1 \
\cb3       \cf10 \strokec10 "category"\cf4 \strokec4 : \cf10 \strokec10 "Park"\cf4 \strokec4 ,\cb1 \
\cb3       \cf10 \strokec10 "features"\cf4 \strokec4 : [\cf10 \strokec10 "Nehir Manzaras\uc0\u305 "\cf4 \strokec4 , \cf10 \strokec10 "Y\'fcr\'fcy\'fc\uc0\u351  Yolu"\cf4 \strokec4 ],\cb1 \
\cb3       \cf10 \strokec10 "rating"\cf4 \strokec4 : \cf13 \strokec13 4.7\cf4 \strokec4 ,\cb1 \
\cb3       \cf10 \strokec10 "location"\cf4 \strokec4 : \{\cb1 \
\cb3         \cf10 \strokec10 "address"\cf4 \strokec4 : \cf10 \strokec10 "Merkez Park, Seyhan"\cf4 \strokec4 ,\cb1 \
\cb3         \cf10 \strokec10 "coordinates"\cf4 \strokec4 : \{ \cf10 \strokec10 "latitude"\cf4 \strokec4 : \cf13 \strokec13 36.9912\cf4 \strokec4 , \cf10 \strokec10 "longitude"\cf4 \strokec4 : \cf13 \strokec13 35.3308\cf4 \strokec4  \}\cb1 \
\cb3       \},\cb1 \
\cb3       \cf10 \strokec10 "contact"\cf4 \strokec4 : \{ \cf10 \strokec10 "phone"\cf4 \strokec4 : \cf11 \strokec11 None\cf4 \strokec4 , \cf10 \strokec10 "email"\cf4 \strokec4 : \cf11 \strokec11 None\cf4 \strokec4 , \cf10 \strokec10 "website"\cf4 \strokec4 : \cf10 \strokec10 "http://adana.bel.tr"\cf4 \strokec4  \},\cb1 \
\cb3       \cf10 \strokec10 "hours"\cf4 \strokec4 : \{ \cf10 \strokec10 "monday"\cf4 \strokec4 : \cf10 \strokec10 "24 Saat A\'e7\uc0\u305 k"\cf4 \strokec4  \},\cb1 \
\cb3       \cf10 \strokec10 "map_link"\cf4 \strokec4 : \cf10 \strokec10 "https://goo.gl/maps/orneklink2"\cf4 \cb1 \strokec4 \
\cb3     \}\cb1 \
\cb3   ]\cb1 \
\cb3 \}\cb1 \
\
\cf7 \cb3 \strokec7 # --- AI FUNCTION ---\cf4 \cb1 \strokec4 \
\cf11 \cb3 \strokec11 def\cf4 \strokec4  \cf6 \strokec6 generate_trip_plan_ai\cf4 \strokec4 (\cf8 \strokec8 request\cf4 \strokec4 : \cf5 \strokec5 TravelRequest\cf4 \strokec4 ):\cb1 \
\cb3     \cf8 \strokec8 model\cf4 \strokec4  \cf9 \strokec9 =\cf4 \strokec4  \cf5 \strokec5 genai\cf4 \strokec4 .\cf5 \strokec5 GenerativeModel\cf4 \strokec4 (\cf10 \strokec10 'gemini-1.5-flash'\cf4 \strokec4 )\cb1 \
\cb3     \cb1 \
\cb3     \cf8 \strokec8 prompt\cf4 \strokec4  \cf9 \strokec9 =\cf4 \strokec4  \cf11 \strokec11 f\cf10 \strokec10 """\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     You are a smart travel assistant. Create a 1-day itinerary for \cf11 \strokec11 \{\cf8 \strokec8 request\cf4 \strokec4 .\cf8 \strokec8 city\cf11 \strokec11 \}\cf10 \strokec10 .\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     Context: Weather is \cf11 \strokec11 \{\cf8 \strokec8 request\cf4 \strokec4 .\cf8 \strokec8 weather\cf11 \strokec11 \}\cf10 \strokec10 , Budget is \cf11 \strokec11 \{\cf8 \strokec8 request\cf4 \strokec4 .\cf8 \strokec8 budget\cf11 \strokec11 \}\cf10 \strokec10 , Interests: \cf11 \strokec11 \{\cf8 \strokec8 request\cf4 \strokec4 .\cf8 \strokec8 interests\cf11 \strokec11 \}\cf10 \strokec10 .\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     \cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     RULES:\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     1. Return ONLY JSON matching the schema below.\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     2. If weather is bad, suggest indoor places.\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     3. Provide real coordinates.\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     \cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     EXPECTED JSON SCHEMA:\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     \cf14 \strokec14 \{\{\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10         "trip_title": "Title here",\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10         "clothing_advice": "Advice here",\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10         "places": [\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10             \cf14 \strokec14 \{\{\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10                 "place_name": "Name",\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10                 "category": "Type",\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10                 "features": ["Feature1", "Feature2"],\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10                 "rating": 4.5,\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10                 "location": \cf14 \strokec14 \{\{\cf10 \strokec10  "address": "...", "coordinates": \cf14 \strokec14 \{\{\cf10 \strokec10  "latitude": 0.0, "longitude": 0.0 \cf14 \strokec14 \}\}\cf10 \strokec10  \cf14 \strokec14 \}\}\cf10 \strokec10 ,\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10                 "contact": \cf14 \strokec14 \{\{\cf10 \strokec10  "phone": "...", "email": null, "website": "..." \cf14 \strokec14 \}\}\cf10 \strokec10 ,\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10                 "hours": \cf14 \strokec14 \{\{\cf10 \strokec10  "monday": "..." \cf14 \strokec14 \}\}\cf10 \strokec10 ,\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10                 "map_link": "..."\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10             \cf14 \strokec14 \}\}\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10         ]\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     \cf14 \strokec14 \}\}\cf4 \cb1 \strokec4 \
\cf10 \cb3 \strokec10     """\cf4 \cb1 \strokec4 \
\cb3     \cf2 \strokec2 try\cf4 \strokec4 :\cb1 \
\cb3         \cf8 \strokec8 response\cf4 \strokec4  \cf9 \strokec9 =\cf4 \strokec4  \cf8 \strokec8 model\cf4 \strokec4 .\cf6 \strokec6 generate_content\cf4 \strokec4 (\cf8 \strokec8 prompt\cf4 \strokec4 , \cf8 \strokec8 generation_config\cf9 \strokec9 =\cf4 \strokec4 \{\cf10 \strokec10 "response_mime_type"\cf4 \strokec4 : \cf10 \strokec10 "application/json"\cf4 \strokec4 \})\cb1 \
\cb3         \cf2 \strokec2 return\cf4 \strokec4  \cf5 \strokec5 json\cf4 \strokec4 .\cf6 \strokec6 loads\cf4 \strokec4 (\cf8 \strokec8 response\cf4 \strokec4 .\cf8 \strokec8 text\cf4 \strokec4 )\cb1 \
\cb3     \cf2 \strokec2 except\cf4 \strokec4  \cf5 \strokec5 Exception\cf4 \strokec4  \cf2 \strokec2 as\cf4 \strokec4  \cf8 \strokec8 e\cf4 \strokec4 :\cb1 \
\cb3         \cf6 \strokec6 print\cf4 \strokec4 (\cf11 \strokec11 f\cf10 \strokec10 "AI Error: \cf11 \strokec11 \{\cf8 \strokec8 e\cf11 \strokec11 \}\cf10 \strokec10 "\cf4 \strokec4 )\cb1 \
\cb3         \cf2 \strokec2 return\cf4 \strokec4  \cf12 \strokec12 MOCK_RESPONSE\cf4 \cb1 \strokec4 \
\
\cf7 \cb3 \strokec7 # --- ENDPOINT ---\cf4 \cb1 \strokec4 \
\cf6 \cb3 \strokec6 @\cf8 \strokec8 app\cf6 \strokec6 .post\cf4 \strokec4 (\cf10 \strokec10 "/create-plan"\cf4 \strokec4 , \cf8 \strokec8 response_model\cf9 \strokec9 =\cf5 \strokec5 TripResponse\cf4 \strokec4 )\cb1 \
\cf11 \cb3 \strokec11 async\cf4 \strokec4  \cf11 \strokec11 def\cf4 \strokec4  \cf6 \strokec6 create_plan\cf4 \strokec4 (\cf8 \strokec8 request\cf4 \strokec4 : \cf5 \strokec5 TravelRequest\cf4 \strokec4 ):\cb1 \
\cb3     \cf6 \strokec6 print\cf4 \strokec4 (\cf11 \strokec11 f\cf10 \strokec10 "\uc0\u304 stek geldi: \cf11 \strokec11 \{\cf8 \strokec8 request\cf4 \strokec4 .\cf8 \strokec8 city\cf11 \strokec11 \}\cf10 \strokec10 "\cf4 \strokec4 )\cb1 \
\cb3     \cb1 \
\cb3     \cf7 \strokec7 # .env dosyas\uc0\u305 nda key varsa ve doluysa AI \'e7al\u305 \u351 \u305 r\cf4 \cb1 \strokec4 \
\cb3     \cf2 \strokec2 if\cf4 \strokec4  \cf12 \strokec12 GOOGLE_API_KEY\cf4 \strokec4  \cf11 \strokec11 and\cf4 \strokec4  \cf6 \strokec6 len\cf4 \strokec4 (\cf12 \strokec12 GOOGLE_API_KEY\cf4 \strokec4 ) \cf9 \strokec9 >\cf4 \strokec4  \cf13 \strokec13 10\cf4 \strokec4 :\cb1 \
\cb3         \cf2 \strokec2 return\cf4 \strokec4  \cf6 \strokec6 generate_trip_plan_ai\cf4 \strokec4 (\cf8 \strokec8 request\cf4 \strokec4 )\cb1 \
\cb3     \cf2 \strokec2 else\cf4 \strokec4 :\cb1 \
\cb3         \cf7 \strokec7 # Key yoksa Demo d\'f6ner\cf4 \cb1 \strokec4 \
\cb3         \cf2 \strokec2 import\cf4 \strokec4  \cf5 \strokec5 time\cf4 \cb1 \strokec4 \
\cb3         \cf5 \strokec5 time\cf4 \strokec4 .\cf6 \strokec6 sleep\cf4 \strokec4 (\cf13 \strokec13 1\cf4 \strokec4 ) \cb1 \
\cb3         \cf2 \strokec2 return\cf4 \strokec4  \cf12 \strokec12 MOCK_RESPONSE\cf4 \cb1 \strokec4 \
}